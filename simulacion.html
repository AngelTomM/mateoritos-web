<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta charset="utf-8" />
    <link rel="stylesheet" href="globals.css" />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="ventana">
  <img class="chatgpt-image-oct" src="FondoEspacio.png" />
      <div class="rectangle"></div>
      <p class="SIMULACION-DE">SIMULACION DE TRAYECTORIAS: <br />COMPORTAMIENTO ORBITAL DE ASTEROIDES</p>
      <div class="div" id="left-panel">
        <div class="tabs" style="position:relative;padding:20px;display:flex;flex-direction:column;gap:12px;">
          <button class="tab-btn" data-tab="asteroides">Asteroides</button>
          <button class="tab-btn" data-tab="simulacion">Simulaci√≥n</button>
          <button class="tab-btn" data-tab="sobre-nosotros">Sobre Nosotros</button>
        </div>
      </div>
      <div class="rectangle-2">
        <!-- Slide panel (moved to top-right of the right card) -->
        <div id="slides-panel" style="position:absolute;top:20px;right:20px;bottom:auto;width:auto;display:flex;flex-direction:column;gap:12px;z-index:30;">
          <button class="slide-btn" data-slide="1">Slide 1</button>
          <button class="slide-btn" data-slide="2">Slide 2</button>
          <button class="slide-btn" data-slide="3">Slide 3</button>
        </div>
        <!-- Container where the p5 canvas will be placed so the simulation appears inside this right card -->
        <div id="simulacion-container" style="width:100%;height:100%;position:relative;"></div>
      </div>
    </div>

    <!-- Load p5 library from CDN first, then load the actual sketch (sketch.js) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.10/p5.min.js"></script>
    <script>
      // expose a global currentSlide and wire up the slide buttons
      window.currentSlide = 1;
      document.addEventListener('DOMContentLoaded', () => {
        const panel = document.getElementById('slides-panel');
        if (!panel) return;
        panel.querySelectorAll('.slide-btn').forEach(btn => {
          btn.addEventListener('click', () => {
            const s = Number(btn.getAttribute('data-slide')) || 1;
            window.currentSlide = s;
            // visual feedback
            panel.querySelectorAll('.slide-btn').forEach(b => b.style.opacity = '0.6');
            btn.style.opacity = '1';
          });
        });
        // set initial opacity
        panel.querySelectorAll('.slide-btn').forEach(b => b.style.opacity = '0.6');
        const first = panel.querySelector('.slide-btn[data-slide="1"]');
        if (first) first.style.opacity = '1';
      });
      // tabs logic for left panel
      document.addEventListener('DOMContentLoaded', () => {
        const tabs = document.querySelectorAll('.tab-btn');
        tabs.forEach(t => t.addEventListener('click', () => {
          tabs.forEach(x => x.style.opacity = '0.7');
          t.style.opacity = '1';
          const tab = t.getAttribute('data-tab');
          if (tab === 'simulacion') {
            // ensure slide 1 is shown by default
            window.currentSlide = 1;
          }
        }));
        // set default active tab
        const firstTab = document.querySelector('.tab-btn[data-tab="simulacion"]');
        if (firstTab) firstTab.style.opacity = '1';
      });
    </script>
    <script src="sketch.js"></script>
  </body>
</html>