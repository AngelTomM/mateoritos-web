<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="Equipo Meteoritos - Sobre Nosotros" />
    <title>Sobre Nosotros - Equipo Meteoritos</title>
    <link rel="stylesheet" href="style_pagina3.css" />
  </head>
  <body>
    <section class="about-us-section">
      <div class="header-content">
        <h1 id="page3-title">SOBRE NOSOTROS</h1>
        <hr class="header-divider red">
        <hr class="header-divider white">
      </div>

      <div class="team-intro">
        <h2 id="page3-team-name">Equipo Meteoritos</h2>
        <p id="page3-team-desc">Un equipo conformado por estudiantes de Ingeniería Mecatrónica de la Universidad Nacional de San Luis participando en el NASA Space Apps Challenge.</p>
      </div>

      <div class="team-members" id="page3-members">
        <!-- member cards injected by i18n script -->
      </div>

      <div class="footer-logos">
        <p class="footer-note" id="page3-footer">NASA SPACE APPS CHALLENGE 2025 - SAN LUIS, ARGENTINA</p>
      </div>
    </section>

    <script src="../i18n/loader.js"></script>
    <script>
      (async function(){
        await i18n.load();
        const d = i18n.t('page3');
        // fill texts
        document.getElementById('page3-title').textContent = d.title || document.getElementById('page3-title').textContent;
        document.getElementById('page3-team-name').textContent = d.team_name;
        document.getElementById('page3-team-desc').textContent = d.team_description;
        document.getElementById('page3-footer').textContent = d.footer;

        const membersCont = document.getElementById('page3-members');
        membersCont.innerHTML = '';

        function chooseImageFor(name){
          const n = (name||'').toLowerCase();
          if(n.includes('ignac') || n.includes('andrade')) return '../IMG.Ignacio.jpg';
          if(n.includes('joaquin') || n.includes('favier')) return '../IMG.Joaquin.jpg';
          if(n.includes('malena') || n.includes('daniele')) return '../IMG.Malena.jpg';
          if(n.includes('mica') || n.includes('fránco') || n.includes('franco')) return '../IMG.mica.jpg';
          if(n.includes('simon') || n.includes('ávila') || n.includes('avila')) return '../IMG.Simon.jpg';
          if(n.includes('tomas') || n.includes('centeno')) return '../IMG.Tomas.jpg';
          return '';
        }

        (d.members||[]).forEach(name => {
          const img = chooseImageFor(name);
          const card = document.createElement('div');
          card.className = 'member-card';
          card.innerHTML = `\n            <div class="member-photo">\n              <img src="${img}" alt="Foto de ${name}">\n            </div>\n            <p class="member-name">${name}</p>\n          `;
          membersCont.appendChild(card);
        });

        window.addEventListener('storage', async(ev)=>{
          if(ev.key === 'mateoritos_lang'){
            await i18n.load();
            const d2 = i18n.t('page3');
            document.getElementById('page3-title').textContent = d2.title;
            document.getElementById('page3-team-name').textContent = d2.team_name;
            document.getElementById('page3-team-desc').textContent = d2.team_description;
            document.getElementById('page3-footer').textContent = d2.footer;
            membersCont.innerHTML = '';
            (d2.members||[]).forEach(name => {
              const img = chooseImageFor(name);
              const card = document.createElement('div');
              card.className = 'member-card';
              card.innerHTML = `\n                <div class="member-photo">\n                  <img src="${img}" alt="Foto de ${name}">\n                </div>\n                <p class="member-name">${name}</p>\n              `;
              membersCont.appendChild(card);
            });
          }
        });
      })();
    </script>
  </body>
</html>